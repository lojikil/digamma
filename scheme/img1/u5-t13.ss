(load "t13.ss")
(def canvas (make-vector (* 600 400 3) 255))
(def x 300)
(def y 200)
(def r 50)
(plot-fixed canvas x y 600 400 3 [255 0 0])
(plot-fixed canvas (+ x r) y 600 400 3 [255 0 0])
(plot-fixed canvas (- x r) y 600 400 3 [255 0 0])
(plot-fixed canvas x (+ y r) 600 400 3 [255 0 0])
(plot-fixed canvas x (- y r) 600 400 3 [255 0 0])
(foreach-proc (fn (theta)
		  (plot-fixed canvas (truncate (+ x (* r (abs (cos theta))))) (truncate (+ y (* r (abs (sin theta))))) 600 400 3 [255 0 0])
		  (plot-fixed canvas (truncate (- x (* r (abs (cos theta))))) (truncate (- y (* r (abs (sin theta))))) 600 400 3 [255 0 0])
		  (plot-fixed canvas (truncate (+ x (* r (abs (cos theta))))) (truncate (- y (* r (abs (sin theta))))) 600 400 3 [255 0 0])
		  (plot-fixed canvas (truncate (- x (* r (abs (cos theta))))) (truncate (+ y (* r (abs (sin theta))))) 600 400 3 [255 0 0]))

	      (step-range 0.0 90.0 0.1))
(plot-fixed-rectangle canvas 300 200 50 50 600 400 [0 255 0])
(plot-fixed-line canvas 300 200 350 250 600 400 [0 0 255])
(def fil (open "u5.pnm" :write))
(display (format "P3~%600 400~%255~%~a~%" canvas) fil)
(close fil)
